<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>collegefootballdata</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>api_key <span class="op">=</span> <span class="st">'FqbkCUnQOvBbWVrpY99c4m0TgnzjqCmYENGDpGIm72IgNZPakm/Jw2+97pMTklcw'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pandas <span class="im">import</span> json_normalize</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sqlite3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>conn <span class="op">=</span> sqlite3.<span class="ex">connect</span>(<span class="st">'cfbd.db'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cfbd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> __future__ <span class="im">import</span> print_function</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cfbd</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> cfbd.rest <span class="im">import</span> ApiException</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pprint <span class="im">import</span> pprint</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure API key authorization: ApiKeyAuth</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>configuration <span class="op">=</span> cfbd.Configuration()</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>configuration.api_key[<span class="st">'Authorization'</span>] <span class="op">=</span> api_key</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>configuration.api_key_prefix[<span class="st">'Authorization'</span>] <span class="op">=</span> <span class="st">'Bearer'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> save_data(sub_dir, filename, data):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    path <span class="op">=</span> <span class="st">"data/"</span> <span class="op">+</span> sub_dir</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    isExist <span class="op">=</span> os.path.exists(path)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> isExist:</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        os.makedirs(path)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(path <span class="op">+</span> <span class="st">'/'</span> <span class="op">+</span> filename, <span class="st">'w'</span>) <span class="im">as</span> f:</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        f.write(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create an instance of the API class</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>api_instance <span class="op">=</span> cfbd.RecruitingApi(cfbd.ApiClient(configuration))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pull_data(year):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    regular <span class="op">=</span> api_instance.get_recruiting_teams(year<span class="op">=</span>year)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># post_season = api_instance.get_roster(year=year, season_type = 'postseason')</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    api_response <span class="op">=</span> [x.to_dict() <span class="cf">for</span> x <span class="kw">in</span> regular] <span class="co">#+ [x.to_dict() for x in post_season]</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># [mydict['player_year'] = mydict.pop('year') for mydict in api_response]</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># for mydict in api_response:</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     mydict['player_year'] = mydict.pop('year')</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    save_data(<span class="st">'get_recruiting_teams'</span>, <span class="ss">f'get_recruiting_teams_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">.json'</span>, json.dumps(api_response))</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> api_response</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dta <span class="op">=</span> pull_data(year<span class="op">=</span><span class="dv">2022</span>) <span class="co">#= pull_data(2020)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dta</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2021</span>, <span class="dv">1980</span>, <span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> year <span class="op">%</span> <span class="dv">5</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(year)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        pull_data(year)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Didn't work on </span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">."</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2020
2015
2010
2005
2000
Didn't work on 1999.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="135">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> load_to_df(folder):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(folder) <span class="op">&lt;</span> <span class="dv">4</span> <span class="kw">or</span> folder[:<span class="dv">4</span>] <span class="op">!=</span> <span class="st">'data'</span>:</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        folder <span class="op">=</span> <span class="st">'data/'</span> <span class="op">+</span> folder</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    dir_list <span class="op">=</span> os.listdir(folder)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> <span class="va">None</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> dir_list:</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">file</span>[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'.'</span>:</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(folder <span class="op">+</span> <span class="st">'/'</span> <span class="op">+</span> <span class="bu">file</span>, <span class="st">'r'</span>) <span class="im">as</span> f:</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>            year <span class="op">=</span> json.loads(f.read())</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        year_df <span class="op">=</span> pd.json_normalize(year)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>        year_df[<span class="st">'year'</span>] <span class="op">=</span> <span class="bu">int</span>(<span class="bu">file</span>.split(<span class="st">'_'</span>)[<span class="op">-</span><span class="dv">1</span>].split(<span class="st">'.'</span>)[<span class="dv">0</span>])</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> df <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>            df <span class="op">=</span> year_df.copy()</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>            df <span class="op">=</span> pd.concat([df, year_df])</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="246">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>get_transfer_portal <span class="op">=</span> load_to_df(<span class="st">'get_transfer_portal'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="265">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> load_lines_to_df(folder, record_path, meta):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(folder) <span class="op">&lt;</span> <span class="dv">4</span> <span class="kw">or</span> folder[:<span class="dv">4</span>] <span class="op">!=</span> <span class="st">'data'</span>:</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>        folder <span class="op">=</span> <span class="st">'data/'</span> <span class="op">+</span> folder</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    dir_list <span class="op">=</span> os.listdir(folder)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> <span class="va">None</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> dir_list:</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">file</span>[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'.'</span>:</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(folder <span class="op">+</span> <span class="st">'/'</span> <span class="op">+</span> <span class="bu">file</span>, <span class="st">'r'</span>) <span class="im">as</span> f:</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>            year <span class="op">=</span> json.loads(f.read())</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>        year_df <span class="op">=</span> pd.json_normalize(year, record_path<span class="op">=</span>record_path, meta<span class="op">=</span>meta)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># year_df['year'] = int(file.split('_')[-1].split('.')[0])</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> df <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>            df <span class="op">=</span> year_df.copy()</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>            df <span class="op">=</span> pd.concat([df, year_df])</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="266">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>get_coaches <span class="op">=</span> load_lines_to_df(<span class="st">'get_coaches'</span>, [<span class="st">'seasons'</span>], [<span class="st">'first_name'</span>, <span class="st">'last_name'</span>, <span class="st">'hire_date'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="263">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># with open("data/get_lines" + '/' + "get_lines_2022.json", 'r') as f:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#     year = json.loads(f.read())</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     test2 = pd.json_normalize(year, record_path=['lines'], meta=['id', 'season', 'week', 'season_type', 'start_date', 'home_team',</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#        'home_conference', 'home_score', 'away_team', 'away_conference',</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">#        'away_score'])</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># test2.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="241">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test.columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="241">
<pre><code>Index(['id', 'season', 'week', 'season_type', 'start_date', 'home_team',
       'home_conference', 'home_score', 'away_team', 'away_conference',
       'away_score', 'lines'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="267">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>get_coaches.to_sql(<span class="st">"get_coaches"</span>, conn, if_exists<span class="op">=</span><span class="st">"replace"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="268">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>get_coaches.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="268">
<pre><code>(11957, 15)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="274">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>get_coaches[(get_coaches.last_name.<span class="bu">str</span>.lower() <span class="op">==</span> <span class="st">"richt"</span>)].sort_values(by<span class="op">=</span><span class="st">'year'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="274">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>school</th>
      <th>year</th>
      <th>games</th>
      <th>wins</th>
      <th>losses</th>
      <th>ties</th>
      <th>preseason_rank</th>
      <th>postseason_rank</th>
      <th>srs</th>
      <th>sp_overall</th>
      <th>sp_offense</th>
      <th>sp_defense</th>
      <th>first_name</th>
      <th>last_name</th>
      <th>hire_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>87</th>
      <td>Georgia</td>
      <td>2001</td>
      <td>12</td>
      <td>8</td>
      <td>4</td>
      <td>0</td>
      <td>NaN</td>
      <td>22.0</td>
      <td>12.3</td>
      <td>13.3</td>
      <td>34.2</td>
      <td>22.2</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>87</th>
      <td>Georgia</td>
      <td>2002</td>
      <td>14</td>
      <td>13</td>
      <td>1</td>
      <td>0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>20.8</td>
      <td>25.2</td>
      <td>39.9</td>
      <td>15.9</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>89</th>
      <td>Georgia</td>
      <td>2003</td>
      <td>14</td>
      <td>11</td>
      <td>3</td>
      <td>0</td>
      <td>11.0</td>
      <td>7.0</td>
      <td>18.7</td>
      <td>26.5</td>
      <td>37.2</td>
      <td>11.3</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>88</th>
      <td>Georgia</td>
      <td>2004</td>
      <td>12</td>
      <td>10</td>
      <td>2</td>
      <td>0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>16.4</td>
      <td>21.8</td>
      <td>35.2</td>
      <td>14.1</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>85</th>
      <td>Georgia</td>
      <td>2005</td>
      <td>13</td>
      <td>10</td>
      <td>3</td>
      <td>0</td>
      <td>13.0</td>
      <td>10.0</td>
      <td>16.1</td>
      <td>22.3</td>
      <td>36.1</td>
      <td>13.8</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>88</th>
      <td>Georgia</td>
      <td>2006</td>
      <td>13</td>
      <td>9</td>
      <td>4</td>
      <td>0</td>
      <td>15.0</td>
      <td>23.0</td>
      <td>10.6</td>
      <td>17.8</td>
      <td>28.7</td>
      <td>11.3</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>90</th>
      <td>Georgia</td>
      <td>2007</td>
      <td>13</td>
      <td>11</td>
      <td>2</td>
      <td>0</td>
      <td>13.0</td>
      <td>2.0</td>
      <td>19.0</td>
      <td>23.6</td>
      <td>38.7</td>
      <td>16.6</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>87</th>
      <td>Georgia</td>
      <td>2008</td>
      <td>13</td>
      <td>10</td>
      <td>3</td>
      <td>0</td>
      <td>1.0</td>
      <td>13.0</td>
      <td>12.9</td>
      <td>20.9</td>
      <td>39.2</td>
      <td>18.3</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>85</th>
      <td>Georgia</td>
      <td>2009</td>
      <td>13</td>
      <td>8</td>
      <td>5</td>
      <td>0</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>9.8</td>
      <td>19.1</td>
      <td>33.6</td>
      <td>16.8</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>92</th>
      <td>Georgia</td>
      <td>2010</td>
      <td>13</td>
      <td>6</td>
      <td>7</td>
      <td>0</td>
      <td>23.0</td>
      <td>NaN</td>
      <td>10.6</td>
      <td>22.2</td>
      <td>41.0</td>
      <td>20.9</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Georgia</td>
      <td>2011</td>
      <td>14</td>
      <td>10</td>
      <td>4</td>
      <td>0</td>
      <td>19.0</td>
      <td>19.0</td>
      <td>12.5</td>
      <td>22.9</td>
      <td>32.7</td>
      <td>10.3</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>104</th>
      <td>Georgia</td>
      <td>2012</td>
      <td>14</td>
      <td>12</td>
      <td>2</td>
      <td>0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>22.2</td>
      <td>28.0</td>
      <td>44.9</td>
      <td>16.6</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>105</th>
      <td>Georgia</td>
      <td>2013</td>
      <td>13</td>
      <td>8</td>
      <td>5</td>
      <td>0</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>15.1</td>
      <td>25.1</td>
      <td>44.9</td>
      <td>21.8</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>105</th>
      <td>Georgia</td>
      <td>2014</td>
      <td>13</td>
      <td>10</td>
      <td>3</td>
      <td>0</td>
      <td>12.0</td>
      <td>9.0</td>
      <td>23.7</td>
      <td>27.6</td>
      <td>44.2</td>
      <td>16.8</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>107</th>
      <td>Georgia</td>
      <td>2015</td>
      <td>12</td>
      <td>9</td>
      <td>3</td>
      <td>0</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>10.3</td>
      <td>16.8</td>
      <td>28.6</td>
      <td>10.7</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>103</th>
      <td>Miami</td>
      <td>2016</td>
      <td>13</td>
      <td>9</td>
      <td>4</td>
      <td>0</td>
      <td>NaN</td>
      <td>20.0</td>
      <td>16.8</td>
      <td>18.6</td>
      <td>34.1</td>
      <td>17.3</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>107</th>
      <td>Miami</td>
      <td>2017</td>
      <td>13</td>
      <td>10</td>
      <td>3</td>
      <td>0</td>
      <td>18.0</td>
      <td>13.0</td>
      <td>15.8</td>
      <td>17.4</td>
      <td>35.3</td>
      <td>17.0</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
    <tr>
      <th>107</th>
      <td>Miami</td>
      <td>2018</td>
      <td>13</td>
      <td>7</td>
      <td>6</td>
      <td>0</td>
      <td>8.0</td>
      <td>None</td>
      <td>6.9</td>
      <td>12.7</td>
      <td>29.3</td>
      <td>15.8</td>
      <td>Mark</td>
      <td>Richt</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="228">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>get_draft_picks.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="228">
<pre><code>(12050, 23)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="248">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>cur <span class="op">=</span> conn.cursor()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="305">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>query <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="st">WITH draft_picks AS (</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="st">        year - 1 AS year,</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="st">        college_athlete_id,</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="st">        college_id,</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="st">        college_team,</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="st">        overall,</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="st">        round,</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="st">        name</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM get_draft_picks</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="st">    WHERE college_team IS NOT NULL</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="st">    AND year IS NOT NULL</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="st">    )</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="st">, coaches AS (</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="st">        first_name || " " || last_name AS coach_name, </span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="st">        school AS college_team,</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="st">        year AS year        </span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM get_coaches</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="st">)</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="st">, combined AS (</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="st">        year,</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a><span class="st">        coach_name,</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a><span class="st">        COUNT(overall) AS num_drafted</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM draft_picks</span></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a><span class="st">    LEFT JOIN coaches USING (college_team, year)</span></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a><span class="st">    WHERE coach_name IS NOT NULL</span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY 1, 2</span></span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a><span class="st">)</span></span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a><span class="st">, sorted AS (</span></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT</span></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a><span class="st">    year, </span></span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a><span class="st">    coach_name,</span></span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a><span class="st">    college_team,</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(num_drafted) OVER (PARTITION BY coach_name ORDER BY year ASC) AS cumulative_number_drafted,</span></span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a><span class="st">    ROW_NUMBER() OVER (PARTITION BY coach_name ORDER BY year ASC) AS year_coached</span></span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a><span class="st">FROM combined</span></span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN coaches USING (coach_name, year)</span></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a><span class="st">)</span></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT</span></span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a><span class="st">    *</span></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a><span class="st">FROM sorted</span></span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a><span class="st">WHERE year_coached = 6</span></span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY cumulative_number_drafted DESC</span></span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>cur.execute(query).fetchall()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="305">
<pre><code>[(2006, 'Jim Tressel', 'Ohio State', 47, 6),
 (2006, 'Larry Coker', 'Miami', 47, 6),
 (2021, 'Kirby Smart', 'Georgia', 45, 6),
 (1981, 'John Robinson', 'USC', 40, 6),
 (2015, 'Jimbo Fisher', 'Florida State', 38, 6),
 (2006, 'Mark Richt', 'Georgia', 36, 6),
 (1978, 'Tom Osborne', 'Nebraska', 34, 6),
 (1971, 'Ara Parseghian', 'Notre Dame', 33, 6),
 (1971, 'John McKay', 'USC', 33, 6),
 (2006, 'Pete Carroll', 'USC', 32, 6),
 (2009, 'Urban Meyer', 'Florida', 31, 6),
 (1978, 'Barry Switzer', 'Oklahoma', 30, 6),
 (2003, 'Frank Solich', 'Nebraska', 30, 6),
 (2017, 'Jim Mora', 'UCLA', 30, 6),
 (1998, 'Phillip Fulmer', 'Tennessee', 29, 6),
 (2013, 'Dabo Swinney', 'Clemson', 28, 6),
 (2018, 'Jim Harbaugh', 'Michigan', 28, 6),
 (2007, 'Butch Davis', 'North Carolina', 27, 6),
 (1993, 'Dennis Erickson', 'Miami', 27, 6),
 (2018, 'Lane Kiffin', 'Florida Atlantic', 27, 6),
 (2001, 'Lloyd Carr', 'Michigan', 27, 6),
 (2016, 'David Shaw', 'Stanford', 26, 6),
 (2021, 'Jim McElwain', 'Central Michigan', 26, 6),
 (2007, 'Les Miles', 'LSU', 26, 6),
 (1994, 'R.C. Slocum', 'Texas A&amp;M', 26, 6),
 (2002, 'Tyrone Willingham', 'Notre Dame', 26, 6),
 (2018, 'Will Muschamp', 'South Carolina', 26, 6),
 (1978, 'Bill Mallory', 'Colorado', 25, 6),
 (2001, 'Rick Neuheisel', 'Washington', 25, 6),
 (2012, 'Bo Pelini', 'Nebraska', 24, 6),
 (2004, 'Bob Stoops', 'Oklahoma', 24, 6),
 (2018, 'Ed Orgeron', 'LSU', 24, 6),
 (2007, 'Jeff Tedford', 'California', 24, 6),
 (1973, 'Pepper Rodgers', 'UCLA', 24, 6),
 (2009, 'Brian Kelly', 'Cincinnati', 23, 6),
 (1980, 'Grant Teaff', 'Baylor', 23, 6),
 (1972, 'Bo Schembechler', 'Michigan', 22, 6),
 (2017, 'Bob Davie', 'New Mexico', 22, 6),
 (2011, 'Bret Bielema', 'Wisconsin', 22, 6),
 (2019, 'Clay Helton', 'USC', 22, 6),
 (1981, 'Fred Akers', 'Texas', 22, 6),
 (1982, 'Jackie Sherrill', 'Texas A&amp;M', 22, 6),
 (1991, 'Ken Hatfield', 'Clemson', 22, 6),
 (2017, 'Larry Fedora', 'North Carolina', 22, 6),
 (2001, 'Nick Saban', 'LSU', 22, 6),
 (2014, 'Al Golden', 'Miami', 21, 6),
 (1971, 'Bill Yeoman', 'Houston', 21, 6),
 (1979, 'Chuck Fairbanks', 'Colorado', 21, 6),
 (2017, 'Gus Malzahn', 'Auburn', 21, 6),
 (2004, 'Kirk Ferentz', 'Iowa', 21, 6),
 (2010, 'Kyle Whittingham', 'Utah', 21, 6),
 (2008, 'Ron Zook', 'Illinois', 21, 6),
 (2012, 'Charlie Weis', 'Kansas', 20, 6),
 (2003, 'Dennis Franchione', 'Texas A&amp;M', 20, 6),
 (1978, 'Emory Bellard', 'Texas A&amp;M', 20, 6),
 (1994, 'Gary Moeller', 'Michigan', 20, 6),
 (1971, 'Joe Paterno', 'Penn State', 20, 6),
 (2021, 'Luke Fickell', 'Cincinnati', 20, 6),
 (1997, 'Mike Price', 'Washington State', 20, 6),
 (1994, 'Steve Spurrier', 'Florida', 20, 6),
 (2020, 'Tom Herman', 'Texas', 20, 6),
 (2010, 'Bobby Petrino', 'Arkansas', 19, 6),
 (2016, 'Dana Holgorsen', 'West Virginia', 19, 6),
 (1983, 'Danny Ford', 'Clemson', 19, 6),
 (2018, 'Dave Doeren', 'NC State', 19, 6),
 (2010, 'Dave Wannstedt', 'Pittsburgh', 19, 6),
 (1998, 'Frank Beamer', 'Virginia Tech', 19, 6),
 (2003, 'Houston Nutt', 'Arkansas', 19, 6),
 (2000, 'Jeff Bower', 'Southern Mississippi', 19, 6),
 (1996, 'Ted Tollner', 'San Diego State', 19, 6),
 (2005, 'Chuck Amato', 'NC State', 18, 6),
 (2014, 'Dan Mullen', 'Mississippi State', 18, 6),
 (2018, 'Paul Chryst', 'Wisconsin', 18, 6),
 (2002, 'Tommy West', 'Memphis', 18, 6),
 (1982, 'Warren Powers', 'Missouri', 18, 6),
 (1990, 'Bobby Ross', 'Georgia Tech', 17, 6),
 (2016, 'Butch Jones', 'Tennessee', 17, 6),
 (2015, 'Charlie Strong', 'Texas', 17, 6),
 (2019, 'Chip Kelly', 'UCLA', 17, 6),
 (2012, 'Chris Petersen', 'Boise State', 17, 6),
 (1980, 'Don Fambrough', 'Kansas', 17, 6),
 (2020, 'Mario Cristobal', 'Oregon', 17, 6),
 (2020, 'Mark Stoops', 'Kentucky', 17, 6),
 (2001, 'Mike Bellotti', 'Oregon', 17, 6),
 (2021, 'P.J. Fleck', 'Minnesota', 17, 6),
 (2020, 'Pat Narduzzi', 'Pittsburgh', 17, 6),
 (2017, 'Steve Addazio', 'Boston College', 17, 6),
 (2003, 'Tommy Tuberville', 'Auburn', 17, 6),
 (1984, 'Bobby Collins', 'SMU', 16, 6),
 (1971, 'Darrell Royal', 'Texas', 16, 6),
 (1980, 'Dick Crum', 'North Carolina', 16, 6),
 (1992, 'Dick Sheridan', 'NC State', 16, 6),
 (1979, 'Don James', 'Washington', 16, 6),
 (1999, 'Gary Barnett', 'Colorado', 16, 6),
 (2009, 'Greg Schiano', 'Rutgers', 16, 6),
 (2016, 'James Franklin', 'Penn State', 16, 6),
 (2020, 'Karl Dorrell', 'Colorado', 16, 6),
 (2007, 'Mike Riley', 'Oregon State', 16, 6),
 (2010, 'Mike Stoops', 'Arizona', 16, 6),
 (2014, 'Paul Johnson', 'Georgia Tech', 16, 6),
 (1998, 'Paul Pasqualoni', 'Syracuse', 16, 6),
 (2006, 'Ralph Friedgen', 'Maryland', 16, 6),
 (1971, 'Robert Dobbs', 'UTEP', 16, 6),
 (1981, 'Terry Donahue', 'UCLA', 16, 6),
 (2004, 'Al Groh', 'Virginia', 15, 6),
 (1996, 'Barry Alvarez', 'Wisconsin', 15, 6),
 (2013, 'Brady Hoke', 'Michigan', 15, 6),
 (1979, 'Claude Gilbert', 'San Diego State', 15, 6),
 (1975, 'Dan Devine', 'Notre Dame', 15, 6),
 (2004, 'David Cutcliffe', 'Ole Miss', 15, 6),
 (1971, 'Duffy Daugherty', 'Michigan State', 15, 6),
 (1989, 'George Perles', 'Michigan State', 15, 6),
 (1986, 'Howard Schnellenberger', 'Louisville', 15, 6),
 (1971, 'John Ralston', 'Stanford', 15, 6),
 (2015, 'Kevin Sumlin', 'Texas A&amp;M', 15, 6),
 (2010, 'Randy Edsall', 'Connecticut', 15, 6),
 (2014, 'Steve Sarkisian', 'USC', 15, 6),
 (2004, 'Walt Harris', 'Pittsburgh', 15, 6),
 (1971, 'Woody Hayes', 'Ohio State', 15, 6),
 (1991, 'Bill McCartney', 'Colorado', 14, 6),
 (1971, 'Bob Devaney', 'Nebraska', 14, 6),
 (2004, 'Dirk Koetter', 'Arizona State', 14, 6),
 (2015, 'Gary Andersen', 'Oregon State', 14, 6),
 (2005, 'Gary Patterson', 'TCU', 14, 6),
 (2005, "George O'Leary", 'UCF', 14, 6),
 (1986, 'Jack Bicknell', 'Boston College', 14, 6),
 (1976, 'Jerry Claiborne', 'Maryland', 14, 6),
 (2008, 'Jim Grobe', 'Wake Forest', 14, 6),
 (2004, 'John Smith', 'Michigan State', 14, 6),
 (2019, 'Justin Fuente', 'Virginia Tech', 14, 6),
 (1980, 'Lou Holtz', 'Arkansas', 14, 6),
 (1999, "Mike O'Cain", 'NC State', 14, 6),
 (2000, 'Ron McBride', 'Utah', 14, 6),
 (2020, 'Sonny Dykes', 'SMU', 14, 6),
 (2015, 'Terry Bowden', 'Akron', 14, 6),
 (2002, "Tom O'Brien", 'Boston College', 14, 6),
 (2005, 'Tommy Bowden', 'Clemson', 14, 6),
 (1974, 'Vince Gibson', 'Kansas State', 14, 6),
 (1990, 'Bruce Snyder', 'California', 13, 6),
 (1982, 'Charley Pell', 'Florida', 13, 6),
 (1984, 'Doug Scovil', 'San Diego State', 13, 6),
 (1982, 'F. Dry', 'TCU', 13, 6),
 (1977, 'Fran Curci', 'Kentucky', 13, 6),
 (1971, 'Frank Kush', 'Arizona State', 13, 6),
 (1990, 'George Welsh', 'Virginia', 13, 6),
 (2002, 'Gerry DiNardo', 'Indiana', 13, 6),
 (2019, 'Hugh Freeze', 'Liberty', 13, 6),
 (1984, 'Jack Elway', 'Stanford', 13, 6),
 (2021, 'Jeff Brohm', 'Purdue', 13, 6),
 (1972, 'Jim Owens', 'Washington', 13, 6),
 (1985, 'Jimmy Johnson', 'Miami', 13, 6),
 (1999, 'Joe Tiller', 'Purdue', 13, 6),
 (1979, 'LaVell Edwards', 'BYU', 13, 6),
 (2021, 'Mike Norvell', 'Florida State', 13, 6),
 (2002, 'Rick Minter', 'Cincinnati', 13, 6),
 (2003, 'Sonny Lubick', 'Colorado State', 13, 6),
 (1973, 'Bear Bryant', 'Alabama', 12, 6),
 (1988, 'Bill Curry', 'Alabama', 12, 6),
 (2003, 'Bob Pruett', 'Marshall', 12, 6),
 (1983, 'Bob Weber', 'Louisville', 12, 6),
 (2011, 'Chris Ault', 'Nevada', 12, 6),
 (1977, 'Darryl Rogers', 'Michigan State', 12, 6),
 (1971, 'Doug Dickey', 'Florida', 12, 6),
 (1971, 'Eddie Crowder', 'Colorado', 12, 6),
 (2010, 'Mark Dantonio', 'Michigan State', 12, 6),
 (2011, 'Mike Gundy', 'Oklahoma State', 12, 6),
 (2017, 'Pat Fitzgerald', 'Northwestern', 12, 6),
 (1974, 'Ralph Jordan', 'Auburn', 12, 6),
 (2008, 'Rich Rodriguez', 'Michigan', 12, 6),
 (2002, 'Ron Turner', 'Illinois', 12, 6),
 (2016, 'Todd Graham', 'Arizona State', 12, 6),
 (1991, 'Dennis Green', 'Stanford', 11, 6),
 (1986, 'Dick Tomey', "Hawai'i", 11, 6),
 (1997, 'Glen Mason', 'Minnesota', 11, 6),
 (2008, 'Jim Leavitt', 'South Florida', 11, 6),
 (1992, 'John Mackovic', 'Texas', 11, 6),
 (1976, 'Johnny Majors', 'Pittsburgh', 11, 6),
 (2004, 'June Jones', "Hawai'i", 11, 6),
 (1994, 'Pat Jones', 'Oklahoma State', 11, 6),
 (1985, 'Rey Dempsey', 'Memphis', 11, 6),
 (1979, 'Sarkis Arslanian', 'Colorado State', 11, 6),
 (2018, 'Willie Taggart', 'Florida State', 11, 6),
 (1973, 'Alex Agase', 'Purdue', 10, 6),
 (1992, 'Bill Lewis', 'Georgia Tech', 10, 6),
 (1997, 'Bill Snyder', 'Kansas State', 10, 6),
 (1988, 'Billy Brewer', 'Ole Miss', 10, 6),
 (2000, 'Bob Toledo', 'UCLA', 10, 6),
 (2009, 'Bobby Johnson', 'Vanderbilt', 10, 6),
 (2018, 'Bryan Harsin', 'Boise State', 10, 6),
 (1971, 'Charles McClendon', 'LSU', 10, 6),
 (1993, 'Chuck Stobart', 'Memphis', 10, 6),
 (1971, 'Dee Andros', 'Oregon State', 10, 6),
 (1979, 'Earle Bruce', 'Ohio State', 10, 6),
 (1971, 'Frank Broyles', 'Arkansas', 10, 6),
 (2005, 'Gary Pinkel', 'Missouri', 10, 6),
 (1991, 'Jim Wacker', 'TCU', 10, 6),
 (1985, 'Jim Walden', 'Washington State', 10, 6),
 (1988, 'Joe Morrison', 'South Carolina', 10, 6),
 (1973, 'Joseph Yukica', 'Boston College', 10, 6),
 (2020, 'Matt Wells', 'Texas Tech', 10, 6),
 (2005, 'Mike Leach', 'Texas Tech', 10, 6),
 (1980, 'Mike White', 'Illinois', 10, 6),
 (2003, 'Pat Hill', 'Fresno State', 10, 6),
 (2002, 'Randy Walker', 'Northwestern', 10, 6),
 (2010, 'Skip Holtz', 'South Florida', 10, 6),
 (1980, 'Steve Sloan', 'Ole Miss', 10, 6),
 (1971, 'Ben Schwartzwalder', 'Syracuse', 9, 6),
 (1978, 'Bob Tyler', 'Mississippi State', 9, 6),
 (1978, 'Bobby Bowden', 'Florida State', 9, 6),
 (1975, 'Cal Stoll', 'Minnesota', 9, 6),
 (2008, 'Dan Hawkins', 'Colorado', 9, 6),
 (2004, 'Dan McCarney', 'Iowa State', 9, 6),
 (1981, 'Dave McClain', 'Wisconsin', 9, 6),
 (1986, 'Dick MacPherson', 'Syracuse', 9, 6),
 (1972, 'Frank Lauterbur', 'Iowa', 9, 6),
 (1971, 'Gene Stallings', 'Texas A&amp;M', 9, 6),
 (1980, 'Hayden Fry', 'Iowa', 9, 6),
 (1980, 'Jim Carlen', 'South Carolina', 9, 6),
 (1985, 'John Cooper', 'Arizona State', 9, 6),
 (2009, 'Larry Blakeney', 'Troy', 9, 6),
 (1983, 'Larry Smith', 'Arizona', 9, 6),
 (1991, 'Mack Brown', 'North Carolina', 9, 6),
 (2015, 'Mike London', 'Virginia', 9, 6),
 (1983, 'Pat Dye', 'Auburn', 9, 6),
 (1983, 'Rich Brooks', 'Oregon', 9, 6),
 (2006, 'Rocky Long', 'New Mexico', 9, 6),
 (1996, 'Spike Dykes', 'Texas Tech', 9, 6),
 (2001, 'Steve Logan', 'East Carolina', 9, 6),
 (1973, 'Vince Dooley', 'Georgia', 9, 6),
 (2020, 'Willie Fritz', 'Tulane', 9, 6),
 (1976, 'Bill Dooley', 'North Carolina', 8, 6),
 (1994, 'Chuck Shelton', 'Pacific', 8, 6),
 (2021, 'Craig Bohl', 'Wyoming', 8, 6),
 (2019, 'Dave Clawson', 'Wake Forest', 8, 6),
 (2014, 'David Bailiff', 'Rice', 8, 6),
 (1999, 'David Rader', 'Tulsa', 8, 6),
 (1988, 'Dennis Stolz', 'San Diego State', 8, 6),
 (2020, 'Derek Mason', 'Vanderbilt', 8, 6),
 (1972, 'John Pont', 'Indiana', 8, 6),
 (1975, 'Lee Corso', 'Indiana', 8, 6),
 (2001, 'Watson Brown', 'UAB', 8, 6),
 (2009, 'Art Briles', 'Baylor', 7, 6),
 (2012, 'Bronco Mendenhall', 'BYU', 7, 6),
 (2005, 'Chris Scelfo', 'Tulane', 7, 6),
 (2019, 'Doc Holliday', 'Marshall', 7, 6),
 (1981, 'Don Nehlen', 'West Virginia', 7, 6),
 (1982, 'Jim Sweeney', 'Fresno State', 7, 6),
 (1998, 'Nelson Stokley', 'Louisiana', 7, 6),
 (2021, 'Tom Allen', 'Indiana', 7, 6),
 (2019, 'Doug Martin', 'New Mexico State', 6, 6),
 (1985, 'George MacIntyre', 'Vanderbilt', 6, 6),
 (2017, 'Rick Stockstill', 'Middle Tennessee', 6, 6),
 (2010, 'Steve Roberts', 'Arkansas State', 6, 6)]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="289">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>cur.description</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="289">
<pre><code>(('index', None, None, None, None, None, None),
 ('school', None, None, None, None, None, None),
 ('year', None, None, None, None, None, None),
 ('games', None, None, None, None, None, None),
 ('wins', None, None, None, None, None, None),
 ('losses', None, None, None, None, None, None),
 ('ties', None, None, None, None, None, None),
 ('preseason_rank', None, None, None, None, None, None),
 ('postseason_rank', None, None, None, None, None, None),
 ('srs', None, None, None, None, None, None),
 ('sp_overall', None, None, None, None, None, None),
 ('sp_offense', None, None, None, None, None, None),
 ('sp_defense', None, None, None, None, None, None),
 ('first_name', None, None, None, None, None, None),
 ('last_name', None, None, None, None, None, None),
 ('hire_date', None, None, None, None, None, None))</code></pre>
</div>
</div>
<div class="cell" data-execution_count="276">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>rows <span class="op">=</span> cur</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> recruiting_players.columns:</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>id
athlete_id
recruit_type
year
ranking
name
school
committed_to
position
height
weight
stars
rating
city
state_province
country
hometown_info.latitude
hometown_info.longitude
hometown_info.county_fips</code></pre>
</div>
</div>
<div class="cell" data-execution_count="220">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>recruiting_players[recruiting_players.name.<span class="bu">str</span>.contains(<span class="st">'Jamie Newman'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="220">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>athlete_id</th>
      <th>recruit_type</th>
      <th>year</th>
      <th>ranking</th>
      <th>name</th>
      <th>school</th>
      <th>committed_to</th>
      <th>position</th>
      <th>height</th>
      <th>weight</th>
      <th>stars</th>
      <th>rating</th>
      <th>city</th>
      <th>state_province</th>
      <th>country</th>
      <th>hometown_info.latitude</th>
      <th>hometown_info.longitude</th>
      <th>hometown_info.county_fips</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>668</th>
      <td>35828</td>
      <td>4037213.0</td>
      <td>HighSchool</td>
      <td>2016</td>
      <td>647.0</td>
      <td>Jamie Newman</td>
      <td>Graham</td>
      <td>Wake Forest</td>
      <td>DUAL</td>
      <td>75.0</td>
      <td>219.0</td>
      <td>3</td>
      <td>0.8585</td>
      <td>Graham</td>
      <td>NC</td>
      <td>USA</td>
      <td>36.069026</td>
      <td>-79.400576</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="208">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>recruiting_players[(recruiting_players.year <span class="op">==</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (recruiting_players.recruit_type <span class="op">==</span> <span class="st">'HighSchool'</span>)].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="208">
<pre><code>(4359, 19)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="210">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>recruiting_players[(recruiting_players.year <span class="op">==</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (recruiting_players.recruit_type <span class="op">==</span> <span class="st">'HighSchool'</span>) <span class="op">&amp;</span> (recruiting_players.rating <span class="op">&gt;</span> <span class="fl">0.7832</span>)].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="210">
<pre><code>(2627, 19)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>draft_columns <span class="op">=</span> [<span class="st">'athlete_id'</span>, <span class="st">'college_team'</span>, <span class="st">'college_conference'</span>, <span class="st">'nfl_team'</span>, <span class="st">'year'</span>, <span class="st">'overall'</span>, <span class="st">'round'</span>, <span class="st">'pick'</span>, <span class="st">'name'</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>recruiting_columns <span class="op">=</span> [<span class="st">'athlete_id'</span>, <span class="st">'recruit_type'</span>, <span class="st">'year'</span>, <span class="st">'ranking'</span>, <span class="st">'name'</span>, <span class="st">'committed_to'</span>, <span class="st">'stars'</span>]</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>drafted_players.rename({<span class="st">"college_athlete_id"</span>: <span class="st">"athlete_id"</span>}, axis <span class="op">=</span> <span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>combined <span class="op">=</span> pd.merge(drafted_players[<span class="op">~</span>drafted_players.athlete_id.isna()][draft_columns], recruiting_players[<span class="op">~</span>recruiting_players.athlete_id.isna()][recruiting_columns], how<span class="op">=</span><span class="st">'left'</span>, on<span class="op">=</span><span class="st">'athlete_id'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="219">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>combined[(combined.year_x <span class="op">&gt;=</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (combined.college_conference.<span class="bu">str</span>.lower() <span class="op">==</span> <span class="st">'sec'</span>)].college_team.value_counts().reset_index().head(<span class="dv">25</span>)<span class="co">#['index'].tolist()[:25]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="219">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>index</th>
      <th>college_team</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Alabama</td>
      <td>58</td>
    </tr>
    <tr>
      <th>1</th>
      <td>LSU</td>
      <td>51</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Georgia</td>
      <td>46</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Florida</td>
      <td>37</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Auburn</td>
      <td>26</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Texas A&amp;M</td>
      <td>25</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Ole Miss</td>
      <td>22</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Mississippi State</td>
      <td>20</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Tennessee</td>
      <td>18</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Kentucky</td>
      <td>17</td>
    </tr>
    <tr>
      <th>10</th>
      <td>South Carolina</td>
      <td>15</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Arkansas</td>
      <td>14</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Missouri</td>
      <td>13</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Vanderbilt</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<section id="up-and-to-the-right" class="level1">
<h1>Up and to the right!</h1>
<div class="cell" data-execution_count="203">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>combined[(combined.year_x <span class="op">&gt;=</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (combined.college_team <span class="op">==</span> <span class="st">"Georgia"</span>)].groupby([<span class="st">'stars'</span>, <span class="st">'year_x'</span>]).size().plot.bar()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="203">
<pre><code>&lt;AxesSubplot:xlabel='stars,year_x'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="CollegeFootballData_files/figure-html/cell-37-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="196">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>drafted_players[(drafted_players.year <span class="op">==</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (drafted_players.college_team <span class="op">==</span> <span class="st">"Georgia"</span>)].name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="196">
<pre><code>171    Isaiah McKenzie
Name: name, dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>combined[combined.year_x <span class="op">&gt;=</span> <span class="dv">2017</span>].groupby([<span class="st">'college_team'</span>, <span class="st">'stars'</span>]).size()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="180">
<pre><code>college_team      stars
Akron             3.0       1
Alabama           2.0       1
                  3.0       7
                  4.0      30
                  5.0      20
                           ..
Wisconsin         3.0      16
                  4.0       2
Wyoming           2.0       4
                  3.0       1
Youngstown State  3.0       1
Length: 288, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>combined[(combined.year_x <span class="op">&gt;=</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (combined.college_team.isin([<span class="st">'Georgia'</span>, <span class="st">'Alabama'</span>]))].groupby([<span class="st">'college_team'</span>, <span class="st">'stars'</span>]).<span class="bu">round</span>.mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="186">
<pre><code>college_team  stars
Alabama       2.0      6.000000
              3.0      3.571429
              4.0      2.866667
              5.0      1.800000
Georgia       3.0      3.375000
              4.0      3.450000
              5.0      3.294118
Name: round, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="177">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>combined.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="177">
<pre><code>(4923, 15)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="162">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>drafted_players.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="162">
<pre><code>Index(['athlete_id', 'nfl_athlete_id', 'college_id', 'college_team',
       'college_conference', 'nfl_team', 'year', 'overall', 'round', 'pick',
       'name', 'position', 'height', 'weight', 'pre_draft_ranking',
       'pre_draft_position_ranking', 'pre_draft_grade', 'hometown_info.city',
       'hometown_info.state', 'hometown_info.country',
       'hometown_info.latitude', 'hometown_info.longitude',
       'hometown_info.country_fips'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>recruiting_players.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="154">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>drafted_players.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="154">
<pre><code>(12050, 23)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>recruiting_players[recruiting_players.name <span class="op">==</span> <span class="st">"Eric Stokes"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="146">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>athlete_id</th>
      <th>recruit_type</th>
      <th>year</th>
      <th>ranking</th>
      <th>name</th>
      <th>school</th>
      <th>committed_to</th>
      <th>position</th>
      <th>height</th>
      <th>weight</th>
      <th>stars</th>
      <th>rating</th>
      <th>city</th>
      <th>state_province</th>
      <th>country</th>
      <th>hometown_info.latitude</th>
      <th>hometown_info.longitude</th>
      <th>hometown_info.county_fips</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>695</th>
      <td>39292</td>
      <td>4259561.0</td>
      <td>HighSchool</td>
      <td>2017</td>
      <td>665.0</td>
      <td>Eric Stokes</td>
      <td>Eastside</td>
      <td>Georgia</td>
      <td>CB</td>
      <td>72.0</td>
      <td>170.0</td>
      <td>3</td>
      <td>0.8578</td>
      <td>Covington</td>
      <td>GA</td>
      <td>USA</td>
      <td>33.596781</td>
      <td>-83.860183</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>drafted_players[(drafted_players.year<span class="op">==</span><span class="dv">2021</span>) <span class="op">&amp;</span> (drafted_players.college_team <span class="op">==</span> <span class="st">"Georgia"</span>)][[<span class="st">'college_athlete_id'</span>, <span class="st">'college_team'</span>, <span class="st">'college_conference'</span>, <span class="st">'nfl_team'</span>, <span class="st">'year'</span>, <span class="st">'overall'</span>, <span class="st">'round'</span>, <span class="st">'pick'</span>, <span class="st">'name'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="145">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>college_athlete_id</th>
      <th>college_team</th>
      <th>college_conference</th>
      <th>nfl_team</th>
      <th>year</th>
      <th>overall</th>
      <th>round</th>
      <th>pick</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>28</th>
      <td>4259561.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Green Bay</td>
      <td>2021</td>
      <td>29.0</td>
      <td>1.0</td>
      <td>29.0</td>
      <td>Eric Stokes</td>
    </tr>
    <tr>
      <th>32</th>
      <td>4379397.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Jacksonville</td>
      <td>2021</td>
      <td>33.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>Tyson Campbell</td>
    </tr>
    <tr>
      <th>49</th>
      <td>4379409.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>New York</td>
      <td>2021</td>
      <td>50.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>Azeez Ojulari</td>
    </tr>
    <tr>
      <th>91</th>
      <td>4240692.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Tennessee</td>
      <td>2021</td>
      <td>92.0</td>
      <td>3.0</td>
      <td>29.0</td>
      <td>Monty Rice</td>
    </tr>
    <tr>
      <th>93</th>
      <td>4035002.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Baltimore</td>
      <td>2021</td>
      <td>94.0</td>
      <td>3.0</td>
      <td>31.0</td>
      <td>Ben Cleveland</td>
    </tr>
    <tr>
      <th>96</th>
      <td>4240023.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Los Angeles</td>
      <td>2021</td>
      <td>97.0</td>
      <td>3.0</td>
      <td>34.0</td>
      <td>Tre' McKitty</td>
    </tr>
    <tr>
      <th>168</th>
      <td>4240686.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Cleveland</td>
      <td>2021</td>
      <td>169.0</td>
      <td>5.0</td>
      <td>25.0</td>
      <td>Richard LeCounte</td>
    </tr>
    <tr>
      <th>189</th>
      <td>4361787.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Cincinnati</td>
      <td>2021</td>
      <td>190.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>Trey Hill</td>
    </tr>
    <tr>
      <th>240</th>
      <td>4259570.0</td>
      <td>Georgia</td>
      <td>SEC</td>
      <td>Los Angeles</td>
      <td>2021</td>
      <td>241.0</td>
      <td>7.0</td>
      <td>13.0</td>
      <td>Mark Webb</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="136">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>drafted_players <span class="op">=</span> load_to_df(<span class="st">'get_draft_picks'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> drafted_players.columns:</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>college_athlete_id
nfl_athlete_id
college_id
college_team
college_conference
nfl_team
year
overall
round
pick
name
position
height
weight
pre_draft_ranking
pre_draft_position_ranking
pre_draft_grade
hometown_info.city
hometown_info.state
hometown_info.country
hometown_info.latitude
hometown_info.longitude
hometown_info.country_fips</code></pre>
</div>
</div>
<div class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>recruiting_players.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<pre><code>(64746, 19)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>dir_list.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="121">
<pre><code>(2737, 19)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>pd.concat([dir_list, dir_list]).shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="122">
<pre><code>(5474, 19)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> only_dict(d):</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">'''</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Convert json string representation of dictionary to a python dict</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="co">    '''</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ast.literal_eval(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>test <span class="op">=</span> pd.DataFrame(dir_list[:<span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>test.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="115">
<pre><code>id                  int64
athlete_id        float64
recruit_type       object
year                int64
ranking             int64
name               object
school             object
committed_to       object
position           object
height            float64
weight              int64
stars               int64
rating            float64
city               object
state_province     object
country            object
hometown_info      object
dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>json_normalize(pd.DataFrame(dir_list[:<span class="dv">3</span>])[<span class="st">'hometown_info'</span>].tolist()).add_prefix(<span class="st">'hometown_info.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/bleathers/.pyenv/versions/3.7.9/envs/scratch/lib/python3.7/site-packages/ipykernel_launcher.py:5: FutureWarning: pandas.io.json.json_normalize is deprecated, use pandas.json_normalize instead
  """</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="106">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>hometown_info.latitude</th>
      <th>hometown_info.longitude</th>
      <th>hometown_info.county_fips</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>33.875295</td>
      <td>-117.566445</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>27.498928</td>
      <td>-82.574819</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>47.608844</td>
      <td>-122.042307</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(pd.DataFrame(dir_list[:<span class="dv">3</span>]).loc[<span class="dv">0</span>, <span class="st">'hometown_info'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="108">
<pre><code>dict</code></pre>
</div>
</div>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>dir_list[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">
<pre><code>'get_recruiting_players_2021.json'</code></pre>
</div>
</div>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>[x <span class="cf">for</span> x <span class="kw">in</span> api_response <span class="cf">if</span> x.destination <span class="op">==</span> <span class="st">"Georgia"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>[{'destination': 'Georgia',
  'eligibility': 'Immediate',
  'first_name': 'Joseph',
  'last_name': 'Daniels Jr.',
  'origin': 'Indiana',
  'position': 'CB',
  'rating': None,
  'season': 2022,
  'stars': 2,
  'transfer_date': '2021-11-30T14:05:00.000Z'}]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>3668</code></pre>
</div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>test <span class="op">=</span> json.dumps([x.to_dict() <span class="cf">for</span> x <span class="kw">in</span> api_response])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'doc' is not defined</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>